<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="500" height="500" style="border:1px solid #d3d3d3;">
Your browser does not support the HTML5 canvas tag.</canvas>

<p id="id"> ui bjr</p>

<input type="range" step="1" min="0" max="180" value="45"  id="angleA"></br>
<input type="range" step="1" min="15" max="100" value="25"  id="Coordx">
<input type="range" step="1" min="0" max="100" value="7"  id="Coordy">

<script>
var c = document.getElementById("myCanvas");
var ctx = c.getContext("2d");

Math.radians = function(degrees) {
  return degrees * Math.PI / 180;
};

function decalangle(langle){
	return (Math.PI)+(langle)
}

slider = document.getElementById("angleA");
slider.oninput = function() {
	
	recalcule(slider.value*1)
}

sliderx = document.getElementById("Coordx");
slidery = document.getElementById("Coordy");
sliderx.oninput = function() {
	
	recalcule(slider.value*1)
}
slidery.oninput = function() {
	
	recalcule(slider.value*1)
}


function recalcule(an){

var x= sliderx.value*1
var y= slidery.value*1
ctx.clearRect(0, 0, 500, 500);
var a=an*Math.PI/180

var l1=9.8
var l2=10.4
var l3=14

var M1x=15
var M1y=15

var M2x=Math.cos(a)*l1+M1x
var M2y=Math.sin(a)*l1+M1y

var M2toM4g=x-M2x
var M2toM4d=y-M2y
var M2toM4=Math.sqrt(M2toM4g*M2toM4g+M2toM4d*M2toM4d)

var M1toM4g=x-M1x
var M1toM4d=y-M1y
var M1toM4=Math.sqrt(M1toM4g*M1toM4g+M1toM4d*M1toM4d)

var c=Math.acos(((l2*l2+l3*l3-M2toM4*M2toM4)/(2*l2*l3)))
var b1=Math.acos(((M2toM4*M2toM4+l1*l1-M1toM4*M1toM4)/(2*M2toM4*l1)))
var b2=Math.acos(((M2toM4*M2toM4+l2*l2-l3*l3)/(2*M2toM4*l2)))

var b=b1+b2

var angleprM3=decalangle(decalangle(a)+b)-Math.PI/2


var M3x=M2x+Math.cos(decalangle(a)+b)*l2
var M3y=M2y+Math.sin(decalangle(a)+b)*l2

ctx.strokeStyle = "#0000FF";
ctx.beginPath();
ctx.moveTo(M1x*10,M1y*10);
ctx.lineTo(M2x*10,M2y*10);
ctx.lineTo(M3x*10,M3y*10);
ctx.lineTo(x*10,y*10);


ctx.stroke();
ctx.strokeStyle = "#DDDDDD";
ctx.beginPath();
ctx.moveTo(M2x*10,M2y*10);
ctx.lineTo(M2x*10+Math.cos(decalangle(a)+b1)*(10*M2toM4),M2y*10+Math.sin(decalangle(a)+b1)*(10*M2toM4));

ctx.stroke();

ctx.stroke();
ctx.strokeStyle = "#FF00FF";
ctx.beginPath();
ctx.moveTo(M3x*10,M3y*10);
ctx.lineTo(M3x*10+Math.cos(Math.PI+decalangle(a)+b+c)*(l3*10),M3y*10+Math.sin(Math.PI+decalangle(a)+b+c)*(l3*10));

ctx.stroke();

document.getElementById("id").innerHTML="debug-> "+ b1/Math.PI*180 +"/"+b2/Math.PI*180+"</br>  x: "+x+"  y: "+y+"</br>  a: "+a/Math.PI*180 + "</br>  b: " + b/Math.PI*180 + "</br>  c: "+c/Math.PI*180;
}


</script>



</body>
</html>
